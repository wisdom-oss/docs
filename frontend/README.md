# Frontend Overview

The frontend application is built with Angular, a popular JavaScript framework 
that provides a stiff framework, making it easier to create consistent work 
environments. 
However, this framework also has its limitations, especially when it comes to 
design freedom. 
In this document, the architecture and modularity of the frontend application 
and the workaround implemented to address its limitations will be discussed.

## Architecture

Angular itself is designed for a monolithic architecture, however the WISdoM 
system is built using a microservice architecture.
To accommodate this structure in the frontend a workaround had to be implemented.
Angular allows the usage of libraries which can be hot reloaded making working 
on the frontend less tedious.

## Repository Structure

To split the repository, the [meta](https://www.npmjs.com/package/meta) package 
is used, which allows defining a config file called 
[`.meta`](https://github.com/wisdom-oss/frontend-workspace/blob/main/.meta) to 
specify the repository and subrepositories. 
This helps run commands over every repository, making the distribution and 
building of the application effortless.

The main repositories used are [`workspace`](https://github.com/wisdom-oss/frontend-workspace), 
[`core`](https://github.com/wisdom-oss/frontend-core), 
and [`common`](https://github.com/wisdom-oss/frontend-common). 
The `workspace` is the Angular workspace, which includes all meta and config 
files, especially the 
[`wisdom.config.ts`](github.com/wisdom-oss/frontend-workspace/blob/main/wisdom.config.ts) 
file used to configure the entire workspace. 
When cloning the workspace repository via meta, the `wisdom_modules` directory 
is created, which contains `core` and `common` and the other repositories 
defined in `.meta`.

The `core` repository is the core of the Angular application, consisting of the 
frame layout, authentication, networking, routing, and i18n. 
The `common` repository is a library of mostly utility components, services, and 
other elements that are heavily customizable and reusable throughout the 
project. 
These repositories are meant to be used as is, and it is expected that users 
will clone at least `workspace`, `core`, and `common` to get started with the 
frontend.

## Hosting

To host the static files generated by Angular, a 
[Caddy server](https://caddyserver.com) is used, which is a lightweight, 
open-source web server.
The application may be built via the angular `ng` commands but a 
[`build.js`](https://github.com/wisdom-oss/frontend-workspace/blob/main/build.js) is 
provided to build the application with one single `node build.js`.
The Caddy server with the hosted files are also easily available using the 
accompanied [Docker](https://www.docker.com) container built by the Dockerfile.

## Dependencies

The current architecture of the frontend application demands that all 
dependencies are included in the workspace. 
As a result, the modules seem to be "empty" in dependencies. 
One potential solution to this issue may be the use of `peer-dependencies`, 
although this needs further investigation.

To keep the dependencies minimal, reusage of dependencies is heavily 
recommended. 
Most dependencies used in the project are either Angular dependencies or used 
by the `core` or `common` repositories. 
As a result, it can be challenging to remove any already included dependencies.

Overall the number of dependencies are tried to keep to a minimum and the ones 
used are tried to keep up-to-date and secure. 
Any new dependencies are carefully evaluated before being added to the project.
